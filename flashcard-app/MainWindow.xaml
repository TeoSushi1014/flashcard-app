<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="flashcard_app.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:flashcard_app"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <!-- Main Grid với Mica background -->
    <Grid x:Name="RootGrid">
        <Grid.RowDefinitions>
            <RowDefinition Height="48"/>  <!-- Header -->
            <RowDefinition Height="*"/>   <!-- Content -->
        </Grid.RowDefinitions>

        <!-- Header với Acrylic -->
        <Grid Grid.Row="0" 
              Background="{ThemeResource LayerOnAcrylicFillColorDefaultBrush}"
              Padding="16,0">
            <StackPanel Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                <FontIcon Glyph="&#xE736;" FontSize="20" Foreground="{ThemeResource AccentTextFillColorPrimaryBrush}"/>
                <TextBlock Text="Flashcard App"
                           FontSize="20"
                           FontWeight="SemiBold"/>
            </StackPanel>
        </Grid>

        <!-- Main Content -->
        <Grid Grid.Row="1" Padding="24">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Left: Card Display Area -->
            <StackPanel Grid.Column="0" 
                        Spacing="20"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Center">

                <!-- Flashcard Card -->
                <Border x:Name="FlashcardCard"
                        Width="500"
                        MinHeight="300"
                        Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                        CornerRadius="8"
                        Padding="32"
                        BorderThickness="1"
                        BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                    
                    <StackPanel Spacing="16" VerticalAlignment="Center">
                        <TextBlock Text="Thẻ từ vựng hiện tại"
                                   FontSize="14"
                                   Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                                   HorizontalAlignment="Center"/>
                        
                        <TextBlock x:Name="CurrentCardText"
                                   Text="Chưa có thẻ"
                                   FontSize="28"
                                   FontWeight="SemiBold"
                                   TextWrapping="Wrap"
                                   HorizontalAlignment="Center"
                                   TextAlignment="Center"/>
                        
                        <TextBlock x:Name="CardIndexText"
                                   Text="Vị trí: -/-"
                                   FontSize="12"
                                   Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                                   HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <!-- Navigation Buttons -->
                <StackPanel Orientation="Horizontal" 
                            Spacing="12"
                            HorizontalAlignment="Center">
                    <Button Width="120"
                            Click="Previous_Click"
                            Style="{StaticResource AccentButtonStyle}">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <FontIcon Glyph="&#xE70B;"/>
                            <TextBlock Text="Trước"/>
                        </StackPanel>
                    </Button>
                    <Button Width="120"
                            Click="Next_Click"
                            Style="{StaticResource AccentButtonStyle}">
                        <StackPanel Orientation="Horizontal" Spacing="6">
                            <TextBlock Text="Sau"/>
                            <FontIcon Glyph="&#xE70A;"/>
                        </StackPanel>
                    </Button>
                </StackPanel>

                <!-- Status Bar -->
                <InfoBar x:Name="StatusBar"
                         IsOpen="False"
                         Severity="Informational"
                         Message="Sẵn sàng"/>
            </StackPanel>

            <!-- Right: Control Panel -->
            <ScrollViewer Grid.Column="1">
                <StackPanel Spacing="16" Padding="16">

                    <!-- Add Card Section -->
                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            CornerRadius="8"
                            Padding="16"
                            BorderThickness="1"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                        <StackPanel Spacing="12">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE710;" FontSize="16"/>
                                <TextBlock Text="Thêm thẻ mới"
                                           FontWeight="SemiBold"/>
                            </StackPanel>
                            
                            <TextBox x:Name="NewCardInput"
                                     PlaceholderText="Nhập từ vựng..."
                                     MaxLength="100"/>
                            
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <Button Content="Thêm cuối"
                                        Click="AddToEnd_Click"
                                        Style="{StaticResource AccentButtonStyle}"
                                        HorizontalAlignment="Stretch"
                                        Width="120"/>
                                <Button Content="Thêm đầu"
                                        Click="AddToStart_Click"
                                        Width="120"/>
                            </StackPanel>
                        </StackPanel>
                    </Border>

                    <!-- Delete Card Section -->
                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            CornerRadius="8"
                            Padding="16"
                            BorderThickness="1"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                        <StackPanel Spacing="12">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE74D;" FontSize="16" Foreground="#C42B1C"/>
                                <TextBlock Text="Xóa thẻ"
                                           FontWeight="SemiBold"/>
                            </StackPanel>
                            
                            <TextBox x:Name="DeleteCardInput"
                                     PlaceholderText="Nhập từ cần xóa..."/>
                            
                            <Button Content="Xóa"
                                    Click="Delete_Click"
                                    HorizontalAlignment="Stretch"
                                    Background="#C42B1C"
                                    Foreground="White"/>
                        </StackPanel>
                    </Border>

                    <!-- Find Card Section -->
                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            CornerRadius="8"
                            Padding="16"
                            BorderThickness="1"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                        <StackPanel Spacing="12">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE721;" FontSize="16"/>
                                <TextBlock Text="Tìm thẻ"
                                           FontWeight="SemiBold"/>
                            </StackPanel>
                            
                            <NumberBox x:Name="FindIndexInput"
                                       PlaceholderText="Nhập vị trí (0,1,2...)"
                                       Minimum="0"
                                       SpinButtonPlacementMode="Compact"/>
                            
                            <Button Content="Tìm"
                                    Click="Find_Click"
                                    HorizontalAlignment="Stretch"/>
                        </StackPanel>
                    </Border>

                    <!-- Traverse Section -->
                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            CornerRadius="8"
                            Padding="16"
                            BorderThickness="1"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                        <StackPanel Spacing="12">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE8FD;" FontSize="16"/>
                                <TextBlock Text="Duyệt danh sách"
                                           FontWeight="SemiBold"/>
                            </StackPanel>
                            
                            <Button Click="TraverseForward_Click"
                                    HorizontalAlignment="Stretch">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <TextBlock Text="Duyệt xuôi"/>
                                    <FontIcon Glyph="&#xE70A;"/>
                                </StackPanel>
                            </Button>
                            <Button Click="TraverseBackward_Click"
                                    HorizontalAlignment="Stretch">
                                <StackPanel Orientation="Horizontal" Spacing="6">
                                    <FontIcon Glyph="&#xE70B;"/>
                                    <TextBlock Text="Duyệt ngược"/>
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Border>

                    <!-- List Display -->
                    <Border Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                            CornerRadius="8"
                            Padding="16"
                            BorderThickness="1"
                            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}">
                        <StackPanel Spacing="12">
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <FontIcon Glyph="&#xE8FD;" FontSize="16"/>
                                <TextBlock Text="Danh sách thẻ"
                                           FontWeight="SemiBold"/>
                            </StackPanel>
                            
                            <TextBlock x:Name="ListDisplay"
                                       Text="Danh sách trống"
                                       TextWrapping="Wrap"
                                       Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </ScrollViewer>
        </Grid>
    </Grid>
</Window>
